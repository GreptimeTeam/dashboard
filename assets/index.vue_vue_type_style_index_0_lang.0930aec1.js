import{u as T,_ as V,b as G}from"./index.e23201b4.js";import{d as K,e as $,w as R,aH as i,C as u,aE as h,aG as t,aI as s,aL as p,aM as f,D as E,aK as F,aJ as I,u as y,aF as L,G as d}from"./arco.f573c5ac.js";import{i as S}from"./index.b09ea387.js";const H=d("svg",{class:"icon-20"},[d("use",{href:"#chart"})],-1),J=d("svg",{class:"icon-20"},[d("use",{href:"#table"})],-1),O=K({__name:"index",props:{results:null,types:null},setup(b){var k,v;const a=b,{removeResult:g,clear:D}=S(),n=$((k=a.results[0])==null?void 0:k.key),_=$((v=a.results[0])==null?void 0:v.key),w=async e=>{var c;const o=a.results.findIndex(l=>l.key===e&&a.types.includes(l.type));a.results.length===1&&(_.value=a.results[0].key),await g(e,a.results[o].type),n.value===e&&(n.value=((c=a.results[o])==null?void 0:c.key)||a.results.slice(-1)[0].key)},x=e=>{n.value=e},z=()=>{_.value=a.results[0].key,D(a.types)};return R(()=>({...a}),(e,o)=>{e.results.length>o.results.length&&(n.value=a.results.slice(-1)[0].key)}),(e,o)=>{const c=i("a-button"),l=i("a-space"),B=V,m=i("a-tab-pane"),N=G,C=i("a-tabs");return u(),h(C,{class:"result-tabs",type:"rounded","lazy-load":"",editable:"","active-key":y(n),animation:!0,onTabClick:x,onDelete:w},{extra:t(()=>[s(c,{status:"danger",size:"small",onClick:z},{default:t(()=>[p(f(e.$t("dashboard.clear")),1)]),_:1})]),default:t(()=>[(u(!0),E(F,null,I(b.results,(r,M)=>(u(),h(m,{key:r.key,closable:"",title:`${e.$t("dashboard.result")} ${r.key-y(_)+1}`},{default:t(()=>[s(l,{direction:"vertical",size:"small",fill:""},{default:t(()=>[s(C,{class:"data-view-tabs",animation:!0},{default:t(()=>[y(T)(r).hasChart.value?(u(),h(m,{key:"chart",title:e.$t("dashboard.chart")},{title:t(()=>[s(l,{size:"mini"},{default:t(()=>[H,p(f(e.$t("dashboard.chart")),1)]),_:1})]),default:t(()=>[s(B,{data:r,"has-header":!1},null,8,["data"])]),_:2},1032,["title"])):L("",!0),s(m,{key:"table",title:e.$t("dashboard.table")},{title:t(()=>[s(l,{size:"mini"},{default:t(()=>[J,p(f(e.$t("dashboard.table")),1)]),_:1})]),default:t(()=>[s(N,{data:r,"has-header":!1},null,8,["data"])]),_:2},1032,["title"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["title"]))),128))]),_:1},8,["active-key"])}}});export{O as _};
