import{d as L,C as c,D as v,G as a,aI as i,aG as s,aK as G,aJ as M,u as p,aH as l,aT as K,aU as P,aX as q,aY as U,aZ as D,aM as H,aL as N,aE as _,o as W,a_ as J,b as Q,c as V,a$ as R,b0 as X,b1 as Y,aF as F,F as Z}from"./arco.dbf91bf1.js";import{u as g,l as j,r as z,_ as T,a as O,b as ee}from"./index.841d8fb3.js";import{s as A,h as te,g as oe}from"./vue.dee6ef24.js";import"./chart.3ae44766.js";const ne="/assets/logo-text.9bb28334.webp",B=e=>(K("data-v-9f918a08"),e=e(),P(),e),se={class:"navbar"},ae=B(()=>a("div",{class:"logo-space"},[a("img",{class:"logo-text-img",alt:"logo",src:ne})],-1)),ce={class:"menu"},ie=["onClick"],le={class:"right-side"},re={class:"pointer"},ue=B(()=>a("use",{href:"#setting"},null,-1)),de=[ue],_e=B(()=>a("div",{class:"pointer"},[a("svg",{class:"icon-20"},[a("use",{href:"#dropdown"})])],-1)),pe=L({__name:"index",setup(e){const{updateSettings:t}=g(),{menuSelectedKey:o}=A(g()),n=[{key:"query",label:"Query",permission:["dev","cloud"]},{key:"scripts",label:"Scripts",permission:["dev"]},{key:"playground",label:"Playground",permission:["dev","cloud"]},{key:"status",label:"Status",permission:["dev"]}],u=[{link:"https://greptime.com/",label:"Home"},{link:"https://docs.greptime.com/",label:"Docs"},{link:"https://github.com/GreptimeTeam/dashboard",label:"GitHub | Dashboard"},{link:"https://github.com/GreptimeTeam/greptimedb",label:"GitHub | GreptimeDB"}],f=()=>{t({globalSettings:!0})},m=r=>{z.push({name:r})},y=r=>{const h=z.resolve({name:r});window.open(h.fullPath,"_blank")};return j(r=>{o.value=r.name},!0),(r,h)=>{const b=l("a-menu-item"),k=l("a-menu"),w=l("a-tooltip"),x=l("a-link"),E=l("a-doption"),C=l("a-dropdown"),S=q("permission");return c(),v("div",se,[ae,a("div",ce,[i(k,{mode:"horizontal","selected-keys":[p(o)]},{default:s(()=>[(c(),v(G,null,M(n,(d,I)=>U(i(b,{key:d.key},{default:s(()=>[a("span",{onClick:[D($=>y(d.key),["meta"]),D($=>y(d.key),["ctrl"]),D($=>m(d.key),["exact"])]},H(d.label),9,ie)]),_:2},1024),[[S,d.permission]])),64))]),_:1},8,["selected-keys"])]),a("ul",le,[a("li",null,[i(w,{content:r.$t("settings.title")},{default:s(()=>[a("div",re,[(c(),v("svg",{class:"icon-20",onClick:f},de))])]),_:1},8,["content"])]),a("li",null,[i(C,{class:"menu-dropdown",trigger:"hover",position:"br","popup-max-height":!1},{content:s(()=>[(c(),v(G,null,M(u,({label:d,link:I})=>i(E,null,{default:s(()=>[i(x,{target:"_blank",href:I},{default:s(()=>[N(H(d),1)]),_:2},1032,["href"])]),_:2},1024)),64))]),default:s(()=>[_e]),_:1})])])])}}});const me=T(pe,[["__scopeId","data-v-9f918a08"]]);const fe={};function ve(e,t){const o=l("a-layout-footer");return c(),_(o,{class:"footer"},{default:s(()=>[N("\xA9Copyright 2022 Greptime Inc. All Rights Reserved")]),_:1})}const ye=T(fe,[["render",ve],["__scopeId","data-v-d90f7d0d"]]);function he(e,t,o,n=!1){e.addEventListener&&typeof e.addEventListener=="function"&&e.addEventListener(t,o,n)}function ge(e,t,o,n=!1){e.removeEventListener&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,o,n)}const be=992;function ke(){return document.body.getBoundingClientRect().width-1<be}function we(e){const t=g();function o(){if(!document.hidden){const u=ke();t.toggleDevice(u?"mobile":"desktop"),t.toggleMenu(u)}}const n=te(o,100);W(()=>{e&&n()}),J(()=>{he(window,"resize",n)}),Q(()=>{ge(window,"resize",n)})}const xe=L({__name:"page-layout",setup(e){const t=oe(),o=O();return V(()=>o.getCacheList),(n,u)=>{const f=l("router-view");return c(),_(f,null,{default:s(({Component:m})=>[i(Y,{name:"fade",mode:"out-in",appear:""},{default:s(()=>[p(t).meta.ignoreCache?(c(),_(R(m),{key:p(t).fullPath})):(c(),_(X,{key:1},[(c(),_(R(m),{key:p(t).name}))],1024))]),_:2},1024)]),_:1})}}}),Ce={key:0,class:"layout-navbar"},Se=L({__name:"default-layout",setup(e){we(!0);const t="52px",{navbar:o,footer:n,guideModal:u,username:f,password:m,database:y,isCloud:r,codeType:h}=A(g()),{getTables:b,getScriptsTable:k}=ee(),w=V(()=>({...o.value?{paddingTop:t}:{}}));return!r.value||!f.value||!m.value||!y.value?u.value=!0:(b(),h.value==="python"&&k(),u.value=!1),(x,E)=>{const C=l("a-layout-content"),S=l("a-layout");return c(),_(S,{class:"layout-container"},{default:s(()=>[p(o)?(c(),v("div",Ce,[i(me)])):F("",!0),i(C,{class:"layout-content",style:Z(p(w))},{default:s(()=>[i(xe)]),_:1},8,["style"]),p(n)?(c(),_(ye,{key:1})):F("",!0)]),_:1})}}});const Ee=T(Se,[["__scopeId","data-v-a5ceea19"]]);export{Ee as default};
