import{u as T,_ as V,b as K}from"./index.5d2fb305.js";import{d as R,e as g,w as E,aI as u,D as i,aF as h,aH as t,aJ as s,aM as m,aN as f,E as F,aL as G,aK as H,u as y,aG as I,H as d}from"./arco.643eb8a8.js";import{h as L}from"./index.418a17e0.js";const S=d("svg",{class:"icon-16"},[d("use",{href:"#chart"})],-1),J=d("svg",{class:"icon"},[d("use",{href:"#table"})],-1),O=R({__name:"index",props:{results:null,types:null},setup(b){var k,v;const a=b,{removeResult:$,clear:D}=L(),n=g((k=a.results[0])==null?void 0:k.key),_=g((v=a.results[0])==null?void 0:v.key),w=async e=>{var c;const o=a.results.findIndex(l=>l.key===e&&a.types.includes(l.type));a.results.length===1&&(_.value=a.results[0].key),await $(e,a.results[o].type),n.value===e&&(n.value=((c=a.results[o])==null?void 0:c.key)||a.results.slice(-1)[0].key)},x=e=>{n.value=e},z=()=>{_.value=a.results[0].key,D(a.types)};return E(()=>({...a}),(e,o)=>{e.results.length>o.results.length&&(n.value=a.results.slice(-1)[0].key)}),(e,o)=>{const c=u("a-button"),l=u("a-space"),N=V,p=u("a-tab-pane"),B=K,C=u("a-tabs");return i(),h(C,{class:"result-tabs",type:"rounded","lazy-load":"",editable:"","active-key":y(n),animation:!0,onTabClick:x,onDelete:w},{extra:t(()=>[s(c,{status:"danger",size:"small",onClick:z},{default:t(()=>[m(f(e.$t("dashboard.clear")),1)]),_:1})]),default:t(()=>[(i(!0),F(G,null,H(b.results,(r,M)=>(i(),h(p,{key:r.key,closable:"",title:`${e.$t("dashboard.result")} ${r.key-y(_)+1}`},{default:t(()=>[s(l,{direction:"vertical",size:"small",fill:""},{default:t(()=>[s(C,{class:"data-view-tabs",animation:!0},{default:t(()=>[y(T)(r).hasChart.value?(i(),h(p,{key:"chart",title:e.$t("dashboard.chart")},{title:t(()=>[s(l,{size:10},{default:t(()=>[S,m(f(e.$t("dashboard.chart")),1)]),_:1})]),default:t(()=>[s(N,{data:r,"has-header":!1},null,8,["data"])]),_:2},1032,["title"])):I("",!0),s(p,{key:"table",title:e.$t("dashboard.table")},{title:t(()=>[s(l,{size:10},{default:t(()=>[J,m(f(e.$t("dashboard.table")),1)]),_:1})]),default:t(()=>[s(B,{data:r,"has-header":!1},null,8,["data"])]),_:2},1032,["title"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["title"]))),128))]),_:1},8,["active-key"])}}});export{O as _};
