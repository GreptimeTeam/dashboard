import{u as T,_ as V,b as K}from"./index.f5261610.js";import{d as R,e as $,w as E,aI as i,D as u,aF as m,aH as t,aJ as s,aM as p,aN as f,E as F,aL as G,aK as H,u as y,aG as I,H as d}from"./arco.643eb8a8.js";import{h as L}from"./index.91e3294d.js";const S=d("svg",{class:"icon-20"},[d("use",{href:"#chart"})],-1),J=d("svg",{class:"icon-20"},[d("use",{href:"#table"})],-1),O=R({__name:"index",props:{results:null,types:null},setup(b){var k,v;const a=b,{removeResult:g,clear:D}=L(),n=$((k=a.results[0])==null?void 0:k.key),_=$((v=a.results[0])==null?void 0:v.key),w=async e=>{var c;const o=a.results.findIndex(l=>l.key===e&&a.types.includes(l.type));a.results.length===1&&(_.value=a.results[0].key),await g(e,a.results[o].type),n.value===e&&(n.value=((c=a.results[o])==null?void 0:c.key)||a.results.slice(-1)[0].key)},x=e=>{n.value=e},z=()=>{_.value=a.results[0].key,D(a.types)};return E(()=>({...a}),(e,o)=>{e.results.length>o.results.length&&(n.value=a.results.slice(-1)[0].key)}),(e,o)=>{const c=i("a-button"),l=i("a-space"),N=V,h=i("a-tab-pane"),B=K,C=i("a-tabs");return u(),m(C,{class:"result-tabs",type:"rounded","lazy-load":"",editable:"","active-key":y(n),animation:!0,onTabClick:x,onDelete:w},{extra:t(()=>[s(c,{status:"danger",size:"small",onClick:z},{default:t(()=>[p(f(e.$t("dashboard.clear")),1)]),_:1})]),default:t(()=>[(u(!0),F(G,null,H(b.results,(r,M)=>(u(),m(h,{key:r.key,closable:"",title:`${e.$t("dashboard.result")} ${r.key-y(_)+1}`},{default:t(()=>[s(l,{direction:"vertical",size:"small",fill:""},{default:t(()=>[s(C,{class:"data-view-tabs",animation:!0},{default:t(()=>[y(T)(r).hasChart.value?(u(),m(h,{key:"chart",title:e.$t("dashboard.chart")},{title:t(()=>[s(l,{size:"mini"},{default:t(()=>[S,p(f(e.$t("dashboard.chart")),1)]),_:1})]),default:t(()=>[s(N,{data:r,"has-header":!1},null,8,["data"])]),_:2},1032,["title"])):I("",!0),s(h,{key:"table",title:e.$t("dashboard.table")},{title:t(()=>[s(l,{size:"mini"},{default:t(()=>[J,p(f(e.$t("dashboard.table")),1)]),_:1})]),default:t(()=>[s(B,{data:r,"has-header":!1},null,8,["data"])]),_:2},1032,["title"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["title"]))),128))]),_:1},8,["active-key"])}}});export{O as _};
