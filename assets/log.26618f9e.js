import{d as q,aH as n,C as t,aE as s,b5 as E,aG as o,aI as l,G as c,aM as a,D as i,aK as z,aJ as A,aL as h,u as f,aF as g}from"./arco.f573c5ac.js";import{g as F,s as L}from"./vue.67fd90f7.js";import{c as v,u as R,_ as D}from"./index.8ffec54a.js";const G={class:"code"},M={class:"width-35"},Q={key:2,class:"script"},j={key:0},H={key:1},J={class:"start-time"},K={key:0},O={key:1,class:"total-time"},P=q({__name:"log",props:{log:{type:Object,default:()=>({})},codeType:{type:String,default:"sql"},hasAction:{type:Boolean,default:!0}},setup(e){const r=e;F(),L(v());const{inputFromNewLineToQueryCode:k,replaceCode:b}=R(),{updateSettings:x}=v(),u=Reflect.has(r.log,"execution_time_ms"),C=()=>{x({queryModalVisible:!0}),r.log.type==="sql"?k(r.log.codeInfo,0):b(r.log.codeInfo)};return(d,U)=>{const I=n("icon-play-arrow"),T=n("a-button"),w=n("a-tooltip"),y=n("a-typography-text"),_=n("a-list-item"),N=n("a-list"),p=n("a-popover"),S=n("icon-check-circle"),B=n("icon-close-circle"),m=n("a-space");return t(),s(_,{class:"smaller-divider"},E({default:o(()=>[l(m,{direction:"vertical",fill:"",size:0},{default:o(()=>[c("div",G,[e.log.error?(t(),s(w,{key:0,position:"tl",content:e.log.error},{default:o(()=>[c("div",null,a(e.log.error),1)]),_:1},8,["content"])):e.log.type!=="python"?(t(),s(p,{key:1,"content-class":"code-popup",position:"tl"},{content:o(()=>[l(N,{size:"small",split:!1,bordered:!1},{default:o(()=>[e.log.type==="promql"?(t(!0),i(z,{key:0},A(e.log.promInfo,(V,$)=>(t(),s(_,null,{default:o(()=>[c("span",M,a($),1),l(y,{class:"ml-4",code:""},{default:o(()=>[h(a(V),1)]),_:2},1024)]),_:2},1024))),256)):(t(),s(_,{key:1},{default:o(()=>[l(y,{class:"popup"},{default:o(()=>[h(a(e.log.codeInfo),1)]),_:1})]),_:1}))]),_:1})]),default:o(()=>[c("div",null,a(e.log.codeInfo),1)]),_:1})):(t(),i("div",Q,[f(u)?(t(),i("div",j,a(d.$t("dashboard.runScript",{name:e.log.codeInfo})),1)):(t(),i("div",H,a(d.$t("dashboard.saveName",{name:e.log.codeInfo})),1))]))]),l(m,{class:"info",fill:""},{default:o(()=>[e.log.error?(t(),s(B,{key:1,class:"danger-color"})):(t(),s(S,{key:0,class:"success-color icon-14"})),c("div",J,a(e.log.startTime),1),e.log.error?g("",!0):(t(),s(m,{key:2,class:"result",fill:"",size:4},{default:o(()=>[f(u)?(t(),i("span",K,a(e.log.message),1)):g("",!0),f(u)?(t(),i("div",O,[l(p,{"content-class":"total-time-popover"},{content:o(()=>[c("div",null,a(d.$t("dashboard.executeTime",{time:e.log.execution_time_ms})),1),c("div",null,a(d.$t("dashboard.network",{time:e.log.networkTime-e.log.execution_time_ms})),1)]),default:o(()=>[c("div",null,a(`in ${e.log.networkTime} ms`),1)]),_:1})])):g("",!0)]),_:1}))]),_:1})]),_:1})]),_:2},[e.hasAction&&e.log.type!=="python"&&!e.log.error?{name:"actions",fn:o(()=>[l(T,{class:"play",type:"text",onClick:C},{icon:o(()=>[l(I,{class:"icon-color"})]),_:1})]),key:"0"}:void 0]),1024)}}});const Z=D(P,[["__scopeId","data-v-f11a1abb"]]);export{Z as _};
