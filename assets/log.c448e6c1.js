import{d as q,c as E,aI as a,D as t,aF as s,b7 as z,aH as o,aJ as c,H as l,aN as n,E as i,aL as A,aK as F,aM as h,u as f,aG as g}from"./arco.2be430d2.js";import{g as L,s as R}from"./vue.8b51e00f.js";import{b as v,_ as D}from"./index.af487847.js";import{u as H}from"./query-code.145cb397.js";const M={class:"code"},Q={class:"width-35"},j={key:2,class:"script"},G={key:0},J={key:1},K={class:"start-time"},O={key:0},P={key:1,class:"total-time"},U=q({__name:"log",props:{log:{type:Object,default:()=>({})},codeType:{type:String,default:"sql"},hasAction:{type:Boolean,default:!0}},setup(e){const r=e;L(),R(v());const{inputFromNewLineToQueryCode:k,replaceCode:b}=H(),{updateSettings:x}=v(),u=E(()=>Reflect.has(r.log,"execution_time_ms")),I=()=>{x({queryModalVisible:!0}),r.log.type==="sql"?k(r.log.codeInfo,0):b(r.log.codeInfo)};return(d,W)=>{const T=a("icon-play-arrow"),w=a("a-button"),C=a("a-tooltip"),p=a("a-typography-text"),m=a("a-list-item"),N=a("a-list"),y=a("a-popover"),S=a("icon-check-circle"),B=a("icon-close-circle"),_=a("a-space");return t(),s(m,{class:"smaller-divider"},z({default:o(()=>[c(_,{direction:"vertical",fill:"",size:0},{default:o(()=>[l("div",M,[e.log.error?(t(),s(C,{key:0,position:"tl",content:e.log.error},{default:o(()=>[l("div",null,n(e.log.error),1)]),_:1},8,["content"])):e.log.type!=="python"?(t(),s(y,{key:1,"content-class":"code-popup",position:"tl"},{content:o(()=>[c(N,{size:"small",split:!1,bordered:!1},{default:o(()=>[e.log.type==="promql"?(t(!0),i(A,{key:0},F(e.log.promInfo,(V,$)=>(t(),s(m,null,{default:o(()=>[l("span",Q,n($),1),c(p,{class:"ml-4",code:""},{default:o(()=>[h(n(V),1)]),_:2},1024)]),_:2},1024))),256)):(t(),s(m,{key:1},{default:o(()=>[c(p,{class:"popup"},{default:o(()=>[h(n(e.log.codeInfo),1)]),_:1})]),_:1}))]),_:1})]),default:o(()=>[l("div",null,n(e.log.codeInfo),1)]),_:1})):(t(),i("div",j,[f(u)?(t(),i("div",G,n(d.$t("dashboard.runScript",{name:e.log.codeInfo})),1)):(t(),i("div",J,n(d.$t("dashboard.saveName",{name:e.log.codeInfo})),1))]))]),c(_,{class:"info",fill:""},{default:o(()=>[e.log.error?(t(),s(B,{key:1,class:"danger-color"})):(t(),s(S,{key:0,class:"success-color icon-14"})),l("div",K,n(e.log.startTime),1),e.log.error?g("",!0):(t(),s(_,{key:2,class:"result",fill:"",size:4},{default:o(()=>[f(u)?(t(),i("span",O,n(e.log.message),1)):g("",!0),f(u)?(t(),i("div",P,[c(y,{"content-class":"total-time-popover"},{content:o(()=>[l("div",null,n(d.$t("dashboard.executeTime",{time:e.log.execution_time_ms})),1),l("div",null,n(d.$t("dashboard.network",{time:e.log.networkTime-e.log.execution_time_ms})),1)]),default:o(()=>[l("div",null,n(`in ${e.log.networkTime} ms`),1)]),_:1})])):g("",!0)]),_:1}))]),_:1})]),_:1})]),_:2},[e.hasAction&&e.log.type!=="python"&&!e.log.error?{name:"actions",fn:o(()=>[c(w,{class:"play",type:"text",onClick:I},{icon:o(()=>[c(T,{class:"icon-color"})]),_:1})]),key:"0"}:void 0]),1024)}}});const oe=D(U,[["__scopeId","data-v-73f6c205"]]);export{oe as _};
