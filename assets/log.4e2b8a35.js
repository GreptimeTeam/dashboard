import{d as $,c as z,aI as a,D as t,aF as s,b6 as E,aH as o,aJ as l,H as c,aN as n,E as i,aL as q,aK as A,aM as h,u as f,aG as g}from"./arco.643eb8a8.js";import{g as F}from"./vue.44e4333e.js";import{u as L}from"./query-code.366f449f.js";import{b as D,_ as H}from"./index.d2991e61.js";const M={class:"code"},Q={class:"width-35"},R={key:2,class:"script"},j={key:0},G={key:1},J={class:"start-time"},K={key:0},O={key:1,class:"total-time"},P=$({__name:"log",props:{log:{type:Object,default:()=>({})},hasAction:{type:Boolean,default:!0}},setup(e){const d=e;F();const{inputFromNewLineToQueryCode:v,replaceCode:k}=L(),{updateSettings:b}=D(),u=z(()=>Reflect.has(d.log,"execution_time_ms")),x=()=>{b({queryModalVisible:!0}),d.log.type==="sql"?v(d.log.codeInfo,0):k(d.log.codeInfo)};return(r,U)=>{const I=a("icon-play-arrow"),w=a("a-button"),C=a("a-tooltip"),p=a("a-typography-text"),m=a("a-list-item"),N=a("a-list"),y=a("a-popover"),T=a("icon-check-circle"),B=a("icon-close-circle"),_=a("a-space");return t(),s(m,{class:"smaller-divider"},E({default:o(()=>[l(_,{direction:"vertical",fill:"",size:0},{default:o(()=>[c("div",M,[e.log.error?(t(),s(C,{key:0,position:"tl",content:e.log.error},{default:o(()=>[c("div",null,n(e.log.error),1)]),_:1},8,["content"])):e.log.type!=="python"?(t(),s(y,{key:1,"content-class":"code-popup",position:"tl"},{content:o(()=>[l(N,{size:"small",split:!1,bordered:!1},{default:o(()=>[e.log.type==="promql"?(t(!0),i(q,{key:0},A(e.log.promInfo,(S,V)=>(t(),s(m,null,{default:o(()=>[c("span",Q,n(V),1),l(p,{class:"ml-4",code:""},{default:o(()=>[h(n(S),1)]),_:2},1024)]),_:2},1024))),256)):(t(),s(m,{key:1},{default:o(()=>[l(p,{class:"popup"},{default:o(()=>[h(n(e.log.codeInfo),1)]),_:1})]),_:1}))]),_:1})]),default:o(()=>[c("div",null,n(e.log.codeInfo),1)]),_:1})):(t(),i("div",R,[f(u)?(t(),i("div",j,n(r.$t("dashboard.runScript",{name:e.log.codeInfo})),1)):(t(),i("div",G,n(r.$t("dashboard.saveName",{name:e.log.codeInfo})),1))]))]),l(_,{class:"info",fill:""},{default:o(()=>[e.log.error?(t(),s(B,{key:1,class:"danger-color"})):(t(),s(T,{key:0,class:"success-color icon-14"})),c("div",J,n(e.log.startTime),1),e.log.error?g("",!0):(t(),s(_,{key:2,class:"result",fill:"",size:4},{default:o(()=>[f(u)?(t(),i("span",K,n(e.log.message),1)):g("",!0),f(u)?(t(),i("div",O,[l(y,{"content-class":"total-time-popover"},{content:o(()=>[c("div",null,n(r.$t("dashboard.executeTime",{time:e.log.execution_time_ms})),1),c("div",null,n(r.$t("dashboard.network",{time:e.log.networkTime-e.log.execution_time_ms})),1)]),default:o(()=>[c("div",null,n(`in ${e.log.networkTime} ms`),1)]),_:1})])):g("",!0)]),_:1}))]),_:1})]),_:1})]),_:2},[e.hasAction&&e.log.type!=="python"&&!e.log.error?{name:"actions",fn:o(()=>[l(w,{class:"play",type:"text",size:"small",onClick:x},{icon:o(()=>[l(I,{class:"icon-color"})]),_:1})]),key:"0"}:void 0]),1024)}}});const ee=H(P,[["__scopeId","data-v-95def6f3"]]);export{ee as _};
